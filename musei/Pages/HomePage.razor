@page "/"

@using Radzen
@using musei.Data
@using musei.Pages
@using System.Text.Json
@inject CosmosService cs


<style>
    .eventNewsList {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }
</style>

<br />
<h3>Events and News2</h3>

<div class="eventNewsList">

    @if (cs.events.Count > 0)
    {
        foreach (Event ev in cs.events.Values)
        {
            <EventCard e=ev ImagePath="Images/randmuseum.png" />
        }
    }
</div>

@code {
    Dictionary<string, Event> events = new Dictionary<string, Event>();

    protected override async Task OnInitializedAsync()
    {
        await cs.GetEvents();
    }
}
